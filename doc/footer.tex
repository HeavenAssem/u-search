\chapter{Development}

\section{Coading style}

We use google coading style for more details see "Google C++ Style Guide" (\url{http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml}) for C++ codes.

\section{How to commit changes}

Before commit your changes you should pass code review.

To send your patch on code review you should use upload.py script (\url{https://codereview.appspot.com/static/upload.py}).

\begin{lstlisting}
$ python2.7 upload.py -m "My important change description."
\end{lstlisting}

For more imformation about usage and option of upload.py see \url{http://code.google.com/p/rietveld/wiki/UploadPyUsage}.

Then go to \url{https://codereview.appspot.com/}, choose your subject.

Reviewers: yulyugin@gmail.com, melges.morgen@gmail.com

CC: mipt-smb-search-review@googlegroups.com

Description: Description of your changes and testlog.

Than start codereview review.

After "LGTM" you can commit your changes.

\begin{lstlisting}
svn commit -m "My importand change description."
\end{lstlisting}

\section{How to write tests}

\section{How to test coverage}

\begin{enumerate}

\item Build with TEST\_COVERAGE flag:
\begin{lstlisting}
$ make TEST_COVERAGE=yes
\end{lstlisting}

\item Run tests. For more information see section~\ref{sec:tests}

\item Go to the directory with tested file.
\begin{lstlisting}
$ cd mipt-smb-serach/spider
\end{lstlisting}

\item Test coverage with gcov programm
\begin{lstlisting}
$ gcov spider.gcda
File 'mipt-smb-search/spider/spider.cpp'
Lines executed:55.23% of 239
Creating 'spider.cpp.gcov'
\end{lstlisting}

\item You can see information about what lines and how often been executed.
\begin{lstlisting}
$ nano spider.cpp.gcov
\end{lstlisting}

\end{enumerate}

\section{Web interface module development}

First of all you should prepare your workspace and install nesessary environment.

For developing you need:

\begin{enumerate}

\item JDK 1.6 or higher.
You can install JDK using the following command's:

For Ubuntu/Debian users:

\begin{lstlisting}
sudo apt-get install openjdk-7-jdk openjdk-7-jre
\end{lstlisting}

For OpenSUSE users:

\begin{lstlisting}
sudo zypper install java-1_7_0-openjdk jdk
\end{lstlisting}

For Arch Linux users:

\begin{lstlisting}
sudo pacman -S  jdk7-openjdk  jre7-openjdk
\end{lstlisting}

You can also download Oracle Java and install it.

\item Eclipse with GWT plugin.

More information about Eclipse set up you can find on the following web-cite \url{https://developers.google.com/web-toolkit/usingeclipse}.

\item Application server (we will use Glassfish OSE).

\end{enumerate}

\subsection{System Requirements}

For comfortable developing and debugging you will need at least 2 GB of RAM and a processor Intel Core i3 or equivalent. Development of the face module is theoretically possible under Windows, but this option will not be considered.

Will agree that our user calls ``melges'', his home directory is located at /home/melges and his custom executable files are stored in ~/bin.

\chapter{Qt-Creator settings}

\section{Build settings}\label{sec:qt-build}

When you open Qt-Creaotr at first you can see window like fig.~\ref{fig:qt-creator-config-main}. Clear "Shadow build".

\begin{figure}[ht]
  \centering
  \includegraphics[width=0.8\textwidth]{./qt-creator-config-main.png}
  \caption{Qt-Creator settings main.}
  \label{fig:qt-creator-config-main}
\end{figure}

Release setting should look like fig~\ref{fig:qt-creator-config-release}. Debug setting should look like fig~\ref{fig:qt-creator-config-debug}.

\begin{figure}[ht]
  \centering
  \subfigure[]{
    \includegraphics[width=0.8\textwidth]{./qt-creator-config-build-release.png}
    \label{fig:qt-creator-config-release}
  }
  \subfigure[]{
    \includegraphics[width=0.8\textwidth]{./qt-creator-config-build-debug.png}
    \label{fig:qt-creator-config-debug}
  }
  \caption{Build settings for Qt-Creator: \subref{fig:qt-creator-config-release} for release build, \subref{fig:qt-creator-config-debug} for debug build.}
\end{figure}

\section{Run settings}

This is an example of Qt-Creator settings to run fulltest. This settings should be done after build settings (look at section~\ref{sec:qt-build} for more details).

\begin{enumerate}
  \item First of all you should choose pass to executable file. In our example it's situated in \%{buildDir}/build/debug/tests/bin/fulltest
  \item Than add path to working directory. Full test should executes from directory when it situates. In our example it's situated in \%{buildDir}/build/debug/tests/bin
  \item You should set LD\_LIBRARY\_PATH variable to detect new shared libraries which created in our project. You should add path to lib and tests/lib folder. LD\_LIBRARY\_PATH should contain full path to this folder.
\end{enumerate}

The result of this settings could be shown in fig.~\ref{fig:qt-creator-config-run}

\begin{figure}[ht]
  \centering
  \includegraphics[width=0.8\textwidth]{./qt-creator-config-run.png}
  \caption{Qt-Creator settings to run.}
  \label{fig:qt-creator-config-run}
\end{figure}

You can configure run settings for each executable file based on this algorithm.

\printindex

\end{document}
